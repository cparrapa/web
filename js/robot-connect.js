const OTTO=document.getElementById("OttoConnection");window.addEventListener("load",function(){var o;null!=OTTO&&((o=document.createElement("img")).id="OttoHead",o.src="./img/robot_head.svg",o.alt="Image of the head of a HP Otto Robot",o.addEventListener("click",OttoConnection),OTTO.appendChild(o))});let blueToothCharacteristic,receivedValue="",blueTooth;var millisecondTimerStart;let isConnected=!1;function setup(){blueTooth=new p5ble,millisecondTimerStart=millis()}function OttoConnection(){isConnected?Swal.fire({icon:"question",title:"Do you want to disconnect your robot?",showDenyButton:!1,showCancelButton:!0,confirmButtonText:"Yes"}).then(o=>{o.isConfirmed&&(isConnected=!1,Swal.fire("Your robot has been disconnected!","","info"))}):Swal.fire({title:"Connect an HP Otto Robot!",icon:"info",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Connect",denyButtonText:"Cancel"}).then(o=>{o.isConfirmed&&(isConnected=!0,connectToBle())})}function connectToBle(){blueTooth.connect(65504,gotCharacteristics)}function gotCharacteristics(o,e){o&&console.log("error: ",o),console.log("characteristics: ",e),blueToothCharacteristic=e[0],blueTooth.startNotifications(blueToothCharacteristic,gotValue,"string"),(isConnected=blueTooth.isConnected())&&Swal.fire("Connected!","","success"),blueTooth.onDisconnected(onDisconnected)}function gotValue(o){console.log("value: ",o)}function onDisconnected(){console.log("Device got disconnected."),isConnected=!1}function sendData(o){"TextEncoder"in window||console.log("Sorry, this browser does not support TextEncoder...");var e=new TextEncoder;blueToothCharacteristic.writeValue(e.encode(o))}